<template>
    <div class="slds-box slds-box_x-small slds-theme_shade">
        <lightning-spinner lwc:if={loading} alternative-text="Loading" size="x-small"></lightning-spinner>
        <lightning-layout vertical-align="center">
            <lightning-layout-item flexibility="grow">
                <span class="slds-text-title_caps"><code>External Credential</code></span>
            </lightning-layout-item>
            <lightning-layout-item flexibility="no-grow">
                <lightning-button label="Refresh" variant="neutral" onclick={handleRefresh}></lightning-button>
            </lightning-layout-item>
        </lightning-layout>
        <lightning-input label="Name" value={externalCredential.masterLabel} read-only></lightning-input>
        <lightning-input
            label="Authentication Status"
            value={externalCredential.authenticationStatus}
            read-only
        ></lightning-input>
        <div style="max-height: 10rem" class="slds-scrollable_y">
            <c-datatable
                key-field="id"
                column-widths-mode="auto"
                columns={principalsColumns}
                data={principalsData}
                hide-checkbox-column
                onrowaction={handleRowAction}
            ></c-datatable>
        </div>
    </div>
</template>
