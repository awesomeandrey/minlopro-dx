<template>
    <template lwc:if={hasOrgLimitsData}>
        <div class="slds-p-around_x-small slds-border_bottom slds-theme_shade">
            <div class="slds-grid slds-grid_align-spread slds-grid_vertical-align-center">
                <lightning-badge label={orgLimitsAmountBadge} class="slds-badge_inverse"></lightning-badge>
                <div if:true={hasError}>
                    <span class="slds-text-color_error">{errorObj.message}</span>
                </div>
                <div>
                    <lightning-button-group>
                        <lightning-button
                            label={toggleFilterBtnLabel}
                            onclick={handleToggleFilter}
                            icon-name="utility:filter"
                            variant={toggleFilterBtnVariant}
                        ></lightning-button>
                        <lightning-button label="Refresh" onclick={handleRefresh} icon-name="utility:refresh"></lightning-button>
                    </lightning-button-group>
                </div>
            </div>
        </div>
        <div class="slds-container_fluid slds-scrollable_x slds-scrollable_y">
            <lightning-datatable
                key-field="uid"
                columns={orgLimitsColumns}
                data={orgLimitsData}
                show-row-number-column
                hide-checkbox-column
            ></lightning-datatable>
        </div>
    </template>
    <template lwc:else>
        <div class="slds-p-around_x-small slds-theme_default">
            <c-stencil-skeleton short-lines="0" repeat="3">
                <lightning-layout horizontal-align="center" vertical-align="center">
                    <lightning-layout-item>
                        <lightning-icon icon-name="utility:warning" alternative-text="Loading" size="xx-small" title="Loading">
                        </lightning-icon>
                    </lightning-layout-item>
                    <lightning-layout-item>
                        <span class="slds-m-left_xx-small">Loading Org Limits...</span>
                    </lightning-layout-item>
                </lightning-layout>
            </c-stencil-skeleton>
        </div>
    </template>
</template>
